<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StudySwap Sign Up</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Overlay styles */
.overlay {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0, 0, 0, 0.5);
display: flex;
align-items: center;
justify-content: center;
z-index: 50;
}

/* Form container styles */
.form-container {
background-color: white;
padding: 2rem;
border-radius: 0.5rem;
max-width: 30rem;
width: 100%;
}

/* Title styles */
.form-title {
font-size: 2rem;
font-weight: bold;
margin-bottom: 1rem;
}

/* Form styles */
.sign-up-form {
display: flex;
flex-direction: column;
gap: 1rem;
}

/* Input and select styles */
.form-input {
width: 100%;
padding: 0.5rem;
border: 1px solid #ccc;
border-radius: 0.25rem;
}

/* Button styles */
.submit-button {
width: 100%;
background-color: #2563EB; /* Blue color */
color: white;
padding: 0.5rem;
border-radius: 0.25rem;
cursor: pointer;
transition: background-color 0.3s;
}

.submit-button:hover {
background-color: #1D4ED8; /* Darker blue on hover */
}

/* Close button styles */
.close-button {
margin-top: 1rem;
color: #2563EB; /* Blue color */
background: none;
border: none;
cursor: pointer;
text-decoration: underline;
}

.close-button:hover {
text-decoration: none;
}

</style>
</head>
<body>
  <div class="overlay" id="signup-overlay">
    <div class="form-container">
      <h2 class="form-title">Sign Up</h2>
      <form class="sign-up-form" id="signup-form">
        <input type="text" name="fullName" placeholder="Full Name" class="form-input" required />
        <input type="email" name="email" placeholder="Email" class="form-input" required />
        <input type="password" name="password" placeholder="Password" class="form-input" required />
        <input type="text" name="institution" placeholder="Educational Institution" class="form-input" required />
        <input type="text" name="major" placeholder="Major/Field of Study" class="form-input" required />
        <input type="tel" name="phone" placeholder="Phone Number" class="form-input" required />
        <select name="userType" class="form-input" required>
          <option value="">Select User Type</option>
          <option value="student">Student</option>
          <option value="educator">Educator</option>
        </select>
        <button type="submit" class="submit-button">Sign Up</button>
      </form>
      <button class="close-button" id="close-signup-button">Close</button>
    </div>
  </div>

  <script>
    document.getElementById('signup-form').addEventListener('submit', function(event) {
      event.preventDefault();

      const formData = new FormData(event.target);
      const data = Object.fromEntries(formData.entries());

      // Send signup data to the backend
      fetch('/signup', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Signup failed');
        }
        return response.json();
      })
      .then(data => {
        console.log(data);
        alert('Signup successful!');
        document.getElementById('signup-overlay').style.display = 'none';
        window.location.href = 'login.html';
      })
      .catch(error => {
        console.error('Signup error:', error);
        alert('Signup failed. Please try again.');
      });
    });

    document.getElementById('close-signup-button').addEventListener('click', function() {
      document.getElementById('signup-overlay').style.display = 'none';
    });
  </script>
</body>
</html>
